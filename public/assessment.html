<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assessment: Sua Empresa Está Pronta para um Fractional CRO? | Alavanka</title>
    <meta name="description" content="Responda 5 perguntas rápidas e descubra se sua empresa B2B tech está pronta para um Fractional CRO.">
    <link rel="canonical" href="https://www.alavanka.com.br/assessment.html">
    
    <!-- Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-D8LLY1L1Z3"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date());gtag('config','G-D8LLY1L1Z3');</script>
    <script type="text/javascript">(function(c,l,a,r,i,t,y){c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);})(window,document,"clarity","script","vb4dciqpnm");</script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=DM+Serif+Display&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    
    <style>
:root {
    --accent: #1B3A5C;
    --accent-dark: #142D48;
    --accent-light: #2D5F8A;
    --warm: #D4883A;
    --warm-dark: #C17A32;
    --warm-light: #E8A355;
    --bg: #FAFBFD;
    --bg-dark: #0D1B2A;
    --text: #0D1B2A;
    --text-secondary: #4A5568;
    --text-muted: #8C8CA1;
    --border: #E2E8F0;
    --success: #10B981;
    --warning: #F59E0B;
    --danger: #EF4444;
    --r-sm: 8px;
    --r-md: 12px;
    --r-lg: 16px;
    --r-xl: 24px;
    --shadow-sm: 0 2px 8px rgba(0,0,0,0.04);
    --shadow-md: 0 8px 24px rgba(27,58,92,0.08);
    --shadow-lg: 0 16px 48px rgba(27,58,92,0.12);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
    font-family: 'DM Sans', system-ui, sans-serif;
    background: linear-gradient(180deg, var(--bg-dark) 0%, var(--accent) 50%, var(--bg) 50%);
    min-height: 100vh;
    color: var(--text);
}

/* ══════════════════════════════════════════════════════════════════════════════
   MAIN CONTAINER
   ══════════════════════════════════════════════════════════════════════════════ */
main {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 80px 20px 40px;
}

.assessment-card {
    background: #fff;
    border-radius: var(--r-xl);
    box-shadow: var(--shadow-lg);
    width: 100%;
    max-width: 560px;
    overflow: hidden;
}

/* ══════════════════════════════════════════════════════════════════════════════
   PROGRESS
   ══════════════════════════════════════════════════════════════════════════════ */
.progress-section {
    padding: 20px 28px;
    background: var(--bg);
    border-bottom: 1px solid var(--border);
}

.progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
}

.progress-label {
    font-size: 13px;
    font-weight: 600;
    color: var(--accent);
}

.progress-percent {
    font-size: 13px;
    font-weight: 700;
    color: var(--warm);
}

.progress-bar {
    height: 6px;
    background: var(--border);
    border-radius: 3px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--warm), var(--warm-light));
    border-radius: 3px;
    transition: width 0.4s ease;
    width: 0%;
}

/* ══════════════════════════════════════════════════════════════════════════════
   QUESTION SLIDES
   ══════════════════════════════════════════════════════════════════════════════ */
.questions-body {
    padding: 32px 28px;
}

.question-slide {
    display: none;
    animation: slideIn 0.35s ease;
}

.question-slide.active {
    display: block;
}

@keyframes slideIn {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
}

.question-number {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    background: var(--accent);
    color: #fff;
    font-size: 14px;
    font-weight: 700;
    border-radius: 50%;
    margin-bottom: 16px;
}

.question-text {
    font-family: 'DM Serif Display', Georgia, serif;
    font-size: 22px;
    font-weight: 400;
    color: var(--text);
    line-height: 1.35;
    margin-bottom: 12px;
}

.question-why {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 24px;
    padding: 12px 14px;
    background: linear-gradient(135deg, rgba(212,136,58,0.08), rgba(212,136,58,0.03));
    border-radius: var(--r-md);
    border-left: 3px solid var(--warm);
}

.question-why svg {
    flex-shrink: 0;
    width: 16px;
    height: 16px;
    color: var(--warm);
    margin-top: 1px;
}

/* ══════════════════════════════════════════════════════════════════════════════
   OPTIONS
   ══════════════════════════════════════════════════════════════════════════════ */
.options-grid {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.option-btn {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 16px 18px;
    background: #fff;
    border: 2px solid var(--border);
    border-radius: var(--r-md);
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: left;
    font-family: inherit;
    font-size: 15px;
    color: var(--text);
}

.option-btn:hover {
    border-color: var(--warm);
    background: rgba(212,136,58,0.04);
}

.option-btn.selected {
    border-color: var(--warm);
    background: rgba(212,136,58,0.08);
}

.option-radio {
    width: 22px;
    height: 22px;
    border: 2px solid var(--border);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    transition: all 0.2s;
}

.option-btn:hover .option-radio {
    border-color: var(--warm);
}

.option-btn.selected .option-radio {
    border-color: var(--warm);
    background: var(--warm);
}

.option-btn.selected .option-radio::after {
    content: '';
    width: 8px;
    height: 8px;
    background: #fff;
    border-radius: 50%;
}

.option-label {
    flex: 1;
    line-height: 1.4;
}

/* ══════════════════════════════════════════════════════════════════════════════
   NAVIGATION
   ══════════════════════════════════════════════════════════════════════════════ */
.nav-buttons {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 32px;
    padding-top: 24px;
    border-top: 1px solid var(--border);
}

.btn-back {
    display: flex;
    align-items: center;
    gap: 6px;
    padding: 12px 20px;
    background: transparent;
    border: 1px solid var(--border);
    border-radius: var(--r-md);
    color: var(--text-secondary);
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
    font-family: inherit;
}

.btn-back:hover:not(:disabled) {
    border-color: var(--text-secondary);
    color: var(--text);
}

.btn-back:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.btn-back svg {
    width: 18px;
    height: 18px;
}

.btn-next {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 14px 28px;
    background: linear-gradient(135deg, var(--accent), var(--accent-dark));
    border: none;
    border-radius: var(--r-md);
    color: #fff;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    font-family: inherit;
}

.btn-next:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(27,58,92,0.25);
}

.btn-next:disabled {
    background: var(--border);
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.btn-next svg {
    width: 18px;
    height: 18px;
}

/* ══════════════════════════════════════════════════════════════════════════════
   RESULT SCREEN - Novo design com indicadores
   ══════════════════════════════════════════════════════════════════════════════ */
.result-screen {
    display: none;
    padding: 32px 28px;
}

.result-screen.active {
    display: block;
    animation: slideIn 0.4s ease;
}

/* Result Header */
.result-header {
    text-align: center;
    margin-bottom: 28px;
}

.result-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 8px 16px;
    background: linear-gradient(135deg, var(--accent), var(--accent-dark));
    color: #fff;
    border-radius: var(--r-md);
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 16px;
}

.result-badge svg {
    width: 16px;
    height: 16px;
}

.result-title {
    font-family: 'DM Serif Display', Georgia, serif;
    font-size: 24px;
    color: var(--text);
    margin-bottom: 8px;
    line-height: 1.3;
}

.result-subtitle {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.5;
}

/* Indicators List */
.indicators-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 24px;
}

.indicator-item {
    display: flex;
    align-items: flex-start;
    gap: 14px;
    padding: 16px;
    background: #fff;
    border: 1px solid var(--border);
    border-radius: var(--r-md);
    text-align: left;
    transition: all 0.2s;
}

.indicator-item.critical {
    border-left: 4px solid var(--danger);
    background: rgba(239,68,68,0.03);
}

.indicator-item.warning {
    border-left: 4px solid var(--warning);
    background: rgba(245,158,11,0.03);
}

.indicator-item.ok {
    border-left: 4px solid var(--success);
    background: rgba(16,185,129,0.03);
}

.indicator-icon {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.indicator-item.critical .indicator-icon {
    background: rgba(239,68,68,0.1);
    color: var(--danger);
}

.indicator-item.warning .indicator-icon {
    background: rgba(245,158,11,0.1);
    color: var(--warning);
}

.indicator-item.ok .indicator-icon {
    background: rgba(16,185,129,0.1);
    color: var(--success);
}

.indicator-icon svg {
    width: 18px;
    height: 18px;
}

.indicator-content {
    flex: 1;
    min-width: 0;
}

.indicator-label {
    font-size: 11px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 4px;
}

.indicator-item.critical .indicator-label { color: var(--danger); }
.indicator-item.warning .indicator-label { color: var(--warning); }
.indicator-item.ok .indicator-label { color: var(--success); }

.indicator-title {
    font-size: 15px;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 4px;
    line-height: 1.3;
}

.indicator-value {
    font-size: 13px;
    color: var(--text-secondary);
}

/* Result Summary */
.result-summary {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    padding: 16px;
    background: linear-gradient(135deg, rgba(27,58,92,0.06), rgba(27,58,92,0.02));
    border-radius: var(--r-md);
    margin-bottom: 24px;
    text-align: left;
}

.summary-icon {
    width: 32px;
    height: 32px;
    background: var(--accent);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    color: #fff;
}

.summary-icon svg {
    width: 16px;
    height: 16px;
}

.result-summary p {
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.5;
}

/* Result Form */
.result-form {
    background: var(--bg);
    border-radius: var(--r-lg);
    padding: 24px;
    margin-bottom: 24px;
    text-align: left;
}

.result-form h3 {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 17px;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 6px;
}

.result-form > p {
    font-size: 13px;
    color: var(--text-secondary);
    margin-bottom: 16px;
}

.form-fields {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.form-row {
    display: flex;
    gap: 12px;
}

.form-field {
    flex: 1;
}

.form-field input,
.form-field select {
    width: 100%;
    padding: 12px 14px;
    border: 1px solid var(--border);
    border-radius: var(--r-sm);
    font-size: 14px;
    font-family: inherit;
    background: #fff;
    transition: border-color 0.2s;
}

.form-field input:focus,
.form-field select:focus {
    outline: none;
    border-color: var(--warm);
}

.btn-generate {
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    padding: 14px;
    background: linear-gradient(135deg, var(--warm), var(--warm-dark));
    border: none;
    border-radius: var(--r-md);
    color: #fff;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    font-family: inherit;
    margin-top: 4px;
}

.btn-generate:hover:not(:disabled) {
    transform: translateY(-1px);
    box-shadow: 0 4px 16px rgba(212,136,58,0.3);
}

.btn-generate:disabled {
    background: var(--border);
    cursor: not-allowed;
}

.btn-generate svg {
    width: 20px;
    height: 20px;
}

/* Form Success */
.form-success {
    display: none;
    text-align: center;
    padding: 20px 0;
}

.form-success.show {
    display: block;
    animation: slideIn 0.3s ease;
}

.success-icon {
    width: 56px;
    height: 56px;
    background: rgba(16,185,129,0.1);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 16px;
    color: var(--success);
}

.success-icon svg {
    width: 28px;
    height: 28px;
}

.form-success h4 {
    font-size: 18px;
    font-weight: 700;
    color: var(--text);
    margin-bottom: 8px;
}

.form-success p {
    font-size: 14px;
    color: var(--text-secondary);
    margin-bottom: 20px;
}

.btn-download {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 14px 28px;
    background: var(--success);
    border: none;
    border-radius: var(--r-md);
    color: #fff;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.2s;
    font-family: inherit;
}

.btn-download:hover {
    background: #0ea271;
    transform: translateY(-1px);
}

.btn-download svg {
    width: 20px;
    height: 20px;
}

/* Divider */
.divider {
    display: flex;
    align-items: center;
    gap: 16px;
    margin: 24px 0;
    color: var(--text-muted);
    font-size: 13px;
}

.divider::before,
.divider::after {
    content: '';
    flex: 1;
    height: 1px;
    background: var(--border);
}

/* CTA */
.result-cta {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    padding: 14px 28px;
    background: linear-gradient(135deg, var(--accent), var(--accent-dark));
    color: #fff;
    text-decoration: none;
    border-radius: var(--r-md);
    font-weight: 700;
    font-size: 15px;
    transition: all 0.2s;
}

.result-cta:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 16px rgba(27,58,92,0.25);
}

.result-back {
    display: inline-block;
    margin-top: 16px;
    color: var(--text-secondary);
    font-size: 14px;
    text-decoration: none;
}

.result-back:hover {
    color: var(--accent);
}

/* ══════════════════════════════════════════════════════════════════════════════
   FOOTER
   ══════════════════════════════════════════════════════════════════════════════ */
footer {
    text-align: center;
    padding: 24px;
    color: var(--text-muted);
    font-size: 13px;
}

footer a {
    color: var(--accent);
    text-decoration: none;
}

/* ══════════════════════════════════════════════════════════════════════════════
   RESPONSIVE
   ══════════════════════════════════════════════════════════════════════════════ */
@media (max-width: 600px) {
    main {
        padding: 70px 16px 24px;
    }
    
    .assessment-card {
        border-radius: var(--r-lg);
    }
    
    .progress-section {
        padding: 16px 20px;
    }
    
    .questions-body {
        padding: 24px 20px;
    }
    
    .question-text {
        font-size: 19px;
    }
    
    .option-btn {
        padding: 14px 16px;
        font-size: 14px;
    }
    
    .nav-buttons {
        flex-direction: column-reverse;
        gap: 12px;
    }
    
    .btn-back, .btn-next {
        width: 100%;
        justify-content: center;
    }
    
    .result-screen {
        padding: 32px 20px;
    }
    
    .result-score-circle {
        width: 120px;
        height: 120px;
    }
    
    .score-value {
        font-size: 36px;
    }
    
    .result-title {
        font-size: 22px;
    }
    
    .result-form {
        padding: 20px 16px;
    }
    
    .form-row {
        flex-direction: column;
    }
}
    </style>
    
    <!-- Nav CSS -->
    <link rel="stylesheet" href="styles/nav-unified.css">
    <script src="components/nav.js" defer></script>
</head>
<body>

<!-- Navigation -->
<nav id="main-nav"></nav>

<!-- Main Content -->
<main>
    <div class="assessment-card">
        <!-- Progress -->
        <div class="progress-section" id="progressSection">
            <div class="progress-header">
                <span class="progress-label" id="progressLabel">Pergunta 1 de 5</span>
                <span class="progress-percent" id="progressPercent">0%</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <!-- Questions -->
        <div class="questions-body" id="questionsBody">
            <!-- Q1: Tempo de estagnação -->
            <div class="question-slide active" data-question="1">
                <div class="question-number">1</div>
                <h2 class="question-text" id="q1text">Há quanto tempo o crescimento da receita está estagnado ou abaixo do esperado?</h2>
                <div class="question-why">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                    <span>Isso nos ajuda a entender a urgência e o tipo de intervenção necessária.</span>
                </div>
                <div class="options-grid">
                    <button class="option-btn" data-value="1" data-label-pt="Menos de 3 meses" data-label-en="Less than 3 months">
                        <span class="option-radio"></span>
                        <span class="option-label">Menos de 3 meses</span>
                    </button>
                    <button class="option-btn" data-value="2" data-label-pt="3 a 6 meses" data-label-en="3 to 6 months">
                        <span class="option-radio"></span>
                        <span class="option-label">3 a 6 meses</span>
                    </button>
                    <button class="option-btn" data-value="3" data-label-pt="6 a 12 meses" data-label-en="6 to 12 months">
                        <span class="option-radio"></span>
                        <span class="option-label">6 a 12 meses</span>
                    </button>
                    <button class="option-btn" data-value="4" data-label-pt="Mais de 12 meses" data-label-en="More than 12 months">
                        <span class="option-radio"></span>
                        <span class="option-label">Mais de 12 meses</span>
                    </button>
                </div>
            </div>
            
            <!-- Q2: Tempo do CEO -->
            <div class="question-slide" data-question="2">
                <div class="question-number">2</div>
                <h2 class="question-text" id="q2text">Quanto do seu tempo (CEO/Founder) é gasto em atividades comerciais?</h2>
                <div class="question-why">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                    <span>CEOs que gastam mais de 40% do tempo em vendas geralmente precisam de ajuda para escalar.</span>
                </div>
                <div class="options-grid">
                    <button class="option-btn" data-value="1" data-label-pt="Menos de 20%" data-label-en="Less than 20%">
                        <span class="option-radio"></span>
                        <span class="option-label">Menos de 20%</span>
                    </button>
                    <button class="option-btn" data-value="2" data-label-pt="20% a 40%" data-label-en="20% to 40%">
                        <span class="option-radio"></span>
                        <span class="option-label">20% a 40%</span>
                    </button>
                    <button class="option-btn" data-value="3" data-label-pt="40% a 60%" data-label-en="40% to 60%">
                        <span class="option-radio"></span>
                        <span class="option-label">40% a 60%</span>
                    </button>
                    <button class="option-btn" data-value="4" data-label-pt="Mais de 60%" data-label-en="More than 60%">
                        <span class="option-radio"></span>
                        <span class="option-label">Mais de 60%</span>
                    </button>
                </div>
            </div>
            
            <!-- Q3: Líder comercial -->
            <div class="question-slide" data-question="3">
                <div class="question-number">3</div>
                <h2 class="question-text" id="q3text">Você tem um líder comercial (VP Sales, CRO) dedicado full-time?</h2>
                <div class="question-why">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                    <span>Entender a estrutura atual nos ajuda a recomendar o modelo certo.</span>
                </div>
                <div class="options-grid">
                    <button class="option-btn" data-value="1" data-label-pt="Sim, com resultados consistentes" data-label-en="Yes, with consistent results">
                        <span class="option-radio"></span>
                        <span class="option-label">Sim, com resultados consistentes</span>
                    </button>
                    <button class="option-btn" data-value="2" data-label-pt="Sim, mas abaixo do esperado" data-label-en="Yes, but below expectations">
                        <span class="option-radio"></span>
                        <span class="option-label">Sim, mas resultados abaixo do esperado</span>
                    </button>
                    <button class="option-btn" data-value="3" data-label-pt="Não, o founder lidera vendas" data-label-en="No, the founder leads sales">
                        <span class="option-radio"></span>
                        <span class="option-label">Não, o founder lidera vendas</span>
                    </button>
                    <button class="option-btn" data-value="4" data-label-pt="Não, buscando contratar" data-label-en="No, looking to hire">
                        <span class="option-radio"></span>
                        <span class="option-label">Não, e estamos buscando contratar</span>
                    </button>
                </div>
            </div>
            
            <!-- Q4: Processo comercial -->
            <div class="question-slide" data-question="4">
                <div class="question-number">4</div>
                <h2 class="question-text" id="q4text">Como você descreveria seu processo comercial atual?</h2>
                <div class="question-why">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                    <span>A maturidade do processo indica onde focar esforços primeiro.</span>
                </div>
                <div class="options-grid">
                    <button class="option-btn" data-value="1" data-label-pt="Estruturado com métricas claras" data-label-en="Structured with clear metrics">
                        <span class="option-radio"></span>
                        <span class="option-label">Estruturado com métricas e playbooks</span>
                    </button>
                    <button class="option-btn" data-value="2" data-label-pt="Parcialmente documentado" data-label-en="Partially documented">
                        <span class="option-radio"></span>
                        <span class="option-label">Parcialmente documentado, mas inconsistente</span>
                    </button>
                    <button class="option-btn" data-value="3" data-label-pt="Depende de pessoas específicas" data-label-en="Dependent on specific people">
                        <span class="option-radio"></span>
                        <span class="option-label">Depende muito de pessoas específicas</span>
                    </button>
                    <button class="option-btn" data-value="4" data-label-pt="Praticamente inexistente" data-label-en="Virtually nonexistent">
                        <span class="option-radio"></span>
                        <span class="option-label">Praticamente inexistente</span>
                    </button>
                </div>
            </div>
            
            <!-- Q5: Estágio de receita -->
            <div class="question-slide" data-question="5">
                <div class="question-number">5</div>
                <h2 class="question-text" id="q5text">Em qual estágio de receita sua empresa está?</h2>
                <div class="question-why">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                    <span>Última pergunta! Isso ajuda a calibrar as recomendações para seu momento.</span>
                </div>
                <div class="options-grid">
                    <button class="option-btn" data-value="1" data-label-pt="Estágio inicial (até R$5M)" data-label-en="Early stage (up to $1M)">
                        <span class="option-radio"></span>
                        <span class="option-label">Estágio inicial (até R$5M/ano)</span>
                    </button>
                    <button class="option-btn" data-value="2" data-label-pt="Em crescimento (R$5M-20M)" data-label-en="Growing ($1M-5M)">
                        <span class="option-radio"></span>
                        <span class="option-label">Em crescimento (R$5M - R$20M/ano)</span>
                    </button>
                    <button class="option-btn" data-value="3" data-label-pt="Escalando (acima de R$20M)" data-label-en="Scaling (above $5M)">
                        <span class="option-radio"></span>
                        <span class="option-label">Escalando (acima de R$20M/ano)</span>
                    </button>
                </div>
            </div>
            
            <!-- Navigation -->
            <div class="nav-buttons">
                <button class="btn-back" id="btnBack" onclick="prevQuestion()" disabled>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                    <span>Voltar</span>
                </button>
                <button class="btn-next" id="btnNext" onclick="nextQuestion()" disabled>
                    <span>Próxima</span>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
                </button>
            </div>
        </div>
        
        <!-- Results Screen -->
        <div class="result-screen" id="resultScreen">
            <!-- Header do resultado -->
            <div class="result-header">
                <div class="result-badge" id="resultBadge">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                    <span>Diagnóstico Completo</span>
                </div>
                <h2 class="result-title" id="resultTitle">Identificamos alguns pontos de atenção</h2>
                <p class="result-subtitle" id="resultSubtitle">Baseado nas suas respostas, estes são os principais indicadores que merecem atenção:</p>
            </div>
            
            <!-- Indicadores com problema -->
            <div class="indicators-list" id="indicatorsList">
                <!-- Preenchido via JS -->
            </div>
            
            <!-- Resumo -->
            <div class="result-summary" id="resultSummary">
                <div class="summary-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4M12 8h.01"/></svg>
                </div>
                <p id="summaryText">O diagnóstico completo em PDF inclui análise detalhada de cada indicador, benchmarks de mercado e recomendações específicas para sua situação.</p>
            </div>
            
            <!-- Form -->
            <div class="result-form" id="resultForm">
                <div id="formInput">
                    <h3 id="formTitle">Receba o diagnóstico completo</h3>
                    <p id="formSubtitle">PDF com análise detalhada enviado para seu email</p>
                    <div class="form-fields">
                        <div class="form-row">
                            <div class="form-field">
                                <input type="email" id="assessmentEmail" placeholder="seu@email.com">
                            </div>
                            <div class="form-field">
                                <select id="assessmentProfile">
                                    <option value="">Seu perfil...</option>
                                    <option value="founder">Founder / CEO</option>
                                    <option value="cro">CRO / VP Sales</option>
                                    <option value="investor">Investidor / VC</option>
                                    <option value="other">Outro</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn-generate" id="formBtn" onclick="submitAndDownload()">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
                            <span>Enviar Diagnóstico</span>
                        </button>
                    </div>
                </div>
                
                <div class="form-success" id="formSuccess">
                    <div class="success-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"/></svg>
                    </div>
                    <h4 id="successTitle">Diagnóstico enviado!</h4>
                    <p id="successText">Verifique seu email. O PDF completo está em anexo.</p>
                </div>
            </div>
            
            <div class="divider" id="dividerText">ou converse diretamente</div>
            
            <a href="https://calendly.com/carlos-andre-alavanka/30min" target="_blank" class="result-cta" id="resultCta">
                Agendar Conversa →
            </a>
            
            <a href="index.html" class="result-back" id="resultBack">← Voltar ao site</a>
        </div>
    </div>
</main>

<footer>
    © 2025 <a href="index.html">Alavanka</a>. Todos os direitos reservados.
</footer>

<script>
// Translations
const T = {
    pt: {
        q1: "Há quanto tempo o crescimento da receita está estagnado ou abaixo do esperado?",
        q2: "Quanto do seu tempo (CEO/Founder) é gasto em atividades comerciais?",
        q3: "Você tem um líder comercial (VP Sales, CRO) dedicado full-time?",
        q4: "Como você descreveria seu processo comercial atual?",
        q5: "Em qual estágio de receita sua empresa está?",
        back: "Voltar", next: "Próxima", see: "Ver Resultado", qOf: "Pergunta {n} de 5",
        high: { t: "Alta Compatibilidade!", d: "Seu perfil indica forte alinhamento com o modelo de Fractional CRO. Você tem a maturidade e os desafios certos para se beneficiar de liderança de receita fracionada." },
        medium: { t: "Boa Compatibilidade", d: "Sua empresa pode se beneficiar de um Fractional CRO, mas existem alguns pontos a considerar. Uma conversa pode ajudar a entender se o timing está certo." },
        low: { t: "Timing Pode Não Ser Ideal", d: "Com base nas suas respostas, um Fractional CRO pode não ser a melhor solução agora. Mas continue acompanhando nosso conteúdo." },
        formT: "Baixe seu diagnóstico personalizado", formS: "PDF com análise detalhada e próximos passos", formBtn: "Gerar PDF",
        successT: "Seu diagnóstico está pronto!", successS: "Clique abaixo para baixar o PDF.", downloadBtn: "Baixar PDF",
        divider: "ou converse diretamente", cta: "Agendar Conversa →", backSite: "← Voltar ao site"
    },
    en: {
        q1: "How long has revenue growth been stagnant or below expectations?",
        q2: "How much of your time (CEO/Founder) is spent on sales activities?",
        q3: "Do you have a dedicated full-time sales leader (VP Sales, CRO)?",
        q4: "How would you describe your current sales process?",
        q5: "What revenue stage is your company at?",
        back: "Back", next: "Next", see: "See Results", qOf: "Question {n} of 5",
        high: { t: "High Compatibility!", d: "Your profile indicates strong alignment with the Fractional CRO model. You have the right maturity and challenges to benefit from fractional revenue leadership." },
        medium: { t: "Good Compatibility", d: "Your company could benefit from a Fractional CRO, but there are some points to consider. A conversation can help understand if the timing is right." },
        low: { t: "Timing May Not Be Ideal", d: "Based on your answers, a Fractional CRO may not be the best solution right now. But keep following our content." },
        formT: "Download your personalized diagnosis", formS: "PDF with detailed analysis and next steps", formBtn: "Generate PDF",
        successT: "Your diagnosis is ready!", successS: "Click below to download the PDF.", downloadBtn: "Download PDF",
        divider: "or talk directly", cta: "Schedule Call →", backSite: "← Back to site"
    }
};

let lang = 'pt', cur = 1, ans = {}, answerLabels = {}, userEmail = '';
const total = 5;

// Integrar com sistema de idioma global (nav.js)
function toggleLanguage() {
    lang = lang === 'pt' ? 'en' : 'pt';
    applyLang();
}

// Listener para mudança de idioma via nav
window.addEventListener('languageChanged', function(e) {
    lang = e.detail.lang;
    applyLang();
});

// Detectar idioma inicial
document.addEventListener('DOMContentLoaded', function() {
    const savedLang = localStorage.getItem('alavanka_lang');
    if (savedLang) {
        lang = savedLang;
        applyLang();
    }
});

function applyLang() {
    const t = T[lang];
    document.getElementById('q1text').textContent = t.q1;
    document.getElementById('q2text').textContent = t.q2;
    document.getElementById('q3text').textContent = t.q3;
    document.getElementById('q4text').textContent = t.q4;
    document.getElementById('q5text').textContent = t.q5;
    document.getElementById('formTitle').textContent = t.formT;
    document.getElementById('formSubtitle').textContent = t.formS;
    document.querySelector('#formBtn span').textContent = t.formBtn;
    document.getElementById('successTitle').textContent = t.successT;
    document.getElementById('successText').textContent = t.successS;
    document.getElementById('dividerText').textContent = t.divider;
    document.getElementById('resultCta').textContent = t.cta;
    document.getElementById('resultBack').textContent = t.backSite;
    updateUI();
}

function updateUI() {
    const t = T[lang];
    const pct = ((cur - 1) / total) * 100;
    document.getElementById('progressFill').style.width = pct + '%';
    document.getElementById('progressPercent').textContent = Math.round(pct) + '%';
    document.getElementById('progressLabel').textContent = t.qOf.replace('{n}', cur);
    
    document.getElementById('btnBack').disabled = cur === 1;
    document.querySelector('#btnBack span').textContent = t.back;
    document.getElementById('btnNext').disabled = !ans[cur];
    document.querySelector('#btnNext span').textContent = (cur === total && ans[cur]) ? t.see : t.next;
}

// Option selection
document.addEventListener('click', function(e) {
    const btn = e.target.closest('.option-btn');
    if (!btn) return;
    
    btn.closest('.options-grid').querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');
    ans[cur] = parseInt(btn.dataset.value);
    
    const labelKey = lang === 'pt' ? 'labelPt' : 'labelEn';
    answerLabels[cur] = btn.dataset[labelKey] || btn.querySelector('.option-label').textContent;
    updateUI();
});

function nextQuestion() {
    if (cur === total) { showResults(); return; }
    if (!ans[cur]) return;
    
    if (typeof gtag === 'function') {
        const stepNames = {1:'stagnation_time',2:'ceo_time_sales',3:'sales_leader',4:'process_maturity',5:'revenue_stage'};
        gtag('event', 'assessment_step_completed', { step: cur, step_name: stepNames[cur] });
    }
    
    document.querySelector('.question-slide[data-question="'+cur+'"]').classList.remove('active');
    cur++;
    const slide = document.querySelector('.question-slide[data-question="'+cur+'"]');
    slide.classList.add('active');
    
    if (ans[cur]) {
        const b = slide.querySelector('.option-btn[data-value="'+ans[cur]+'"]');
        if (b) b.classList.add('selected');
    }
    updateUI();
}

function prevQuestion() {
    if (cur === 1) return;
    document.querySelector('.question-slide[data-question="'+cur+'"]').classList.remove('active');
    cur--;
    document.querySelector('.question-slide[data-question="'+cur+'"]').classList.add('active');
    updateUI();
}

function showResults() {
    const t = T[lang];
    const score = Object.values(ans).reduce((a,b) => a+b, 0);
    
    if (typeof gtag === 'function') {
        gtag('event', 'assessment_step_completed', { step: 5, step_name: 'revenue_stage' });
    }
    
    document.getElementById('questionsBody').style.display = 'none';
    document.getElementById('progressSection').style.display = 'none';
    document.getElementById('resultScreen').classList.add('active');
    
    // Gerar indicadores baseados nas respostas
    const indicators = getIndicators(ans, lang);
    const indicatorsList = document.getElementById('indicatorsList');
    indicatorsList.innerHTML = indicators.map(ind => `
        <div class="indicator-item ${ind.status}">
            <div class="indicator-icon">
                ${ind.status === 'critical' ? '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>' :
                  ind.status === 'warning' ? '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>' :
                  '<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>'}
            </div>
            <div class="indicator-content">
                <div class="indicator-label">${ind.label}</div>
                <div class="indicator-title">${ind.title}</div>
                <div class="indicator-value">${ind.value}</div>
            </div>
        </div>
    `).join('');
    
    // Contar problemas
    const criticalCount = indicators.filter(i => i.status === 'critical').length;
    const warningCount = indicators.filter(i => i.status === 'warning').length;
    
    // Atualizar título baseado nos problemas
    if (criticalCount >= 2) {
        document.getElementById('resultTitle').textContent = lang === 'pt' ? 
            'Identificamos pontos críticos de atenção' : 'We identified critical attention points';
    } else if (criticalCount >= 1 || warningCount >= 2) {
        document.getElementById('resultTitle').textContent = lang === 'pt' ? 
            'Alguns indicadores merecem atenção' : 'Some indicators need attention';
    } else {
        document.getElementById('resultTitle').textContent = lang === 'pt' ? 
            'Sua operação está no caminho certo' : 'Your operation is on the right track';
    }
    
    let level = score >= 13 ? 'high' : score >= 8 ? 'medium' : 'low';
    
    if (typeof gtag === 'function') {
        gtag('event', 'assessment_completed', { event_category: 'engagement', event_label: level + '_fit', value: score, critical_count: criticalCount, warning_count: warningCount });
    }
}

// Função para gerar indicadores baseados nas respostas
function getIndicators(answers, lang) {
    const indicators = [];
    
    // Q1: Tempo de estagnação
    const stagnationLabels = {
        pt: ['Menos de 3 meses', '3 a 6 meses', '6 a 12 meses', 'Mais de 12 meses'],
        en: ['Less than 3 months', '3 to 6 months', '6 to 12 months', 'More than 12 months']
    };
    indicators.push({
        title: lang === 'pt' ? 'Tempo de Estagnação' : 'Stagnation Time',
        label: answers[1] >= 3 ? (lang === 'pt' ? 'Crítico' : 'Critical') : answers[1] >= 2 ? (lang === 'pt' ? 'Atenção' : 'Warning') : (lang === 'pt' ? 'Saudável' : 'Healthy'),
        value: stagnationLabels[lang][answers[1] - 1],
        status: answers[1] >= 3 ? 'critical' : answers[1] >= 2 ? 'warning' : 'ok'
    });
    
    // Q2: Tempo do CEO em vendas
    const ceoTimeLabels = {
        pt: ['Menos de 20%', '20% a 40%', '40% a 60%', 'Mais de 60%'],
        en: ['Less than 20%', '20% to 40%', '40% to 60%', 'More than 60%']
    };
    indicators.push({
        title: lang === 'pt' ? 'Tempo do CEO em Vendas' : 'CEO Time on Sales',
        label: answers[2] >= 3 ? (lang === 'pt' ? 'Crítico' : 'Critical') : answers[2] >= 2 ? (lang === 'pt' ? 'Atenção' : 'Warning') : (lang === 'pt' ? 'Saudável' : 'Healthy'),
        value: ceoTimeLabels[lang][answers[2] - 1],
        status: answers[2] >= 3 ? 'critical' : answers[2] >= 2 ? 'warning' : 'ok'
    });
    
    // Q3: Líder comercial
    const leaderLabels = {
        pt: ['Com resultados consistentes', 'Abaixo do esperado', 'Founder lidera vendas', 'Buscando contratar'],
        en: ['With consistent results', 'Below expectations', 'Founder leads sales', 'Looking to hire']
    };
    indicators.push({
        title: lang === 'pt' ? 'Liderança Comercial' : 'Sales Leadership',
        label: answers[3] >= 3 ? (lang === 'pt' ? 'Crítico' : 'Critical') : answers[3] >= 2 ? (lang === 'pt' ? 'Atenção' : 'Warning') : (lang === 'pt' ? 'Saudável' : 'Healthy'),
        value: leaderLabels[lang][answers[3] - 1],
        status: answers[3] >= 3 ? 'critical' : answers[3] >= 2 ? 'warning' : 'ok'
    });
    
    // Q4: Processo comercial
    const processLabels = {
        pt: ['Estruturado com métricas', 'Parcialmente documentado', 'Depende de pessoas', 'Praticamente inexistente'],
        en: ['Structured with metrics', 'Partially documented', 'Dependent on people', 'Virtually nonexistent']
    };
    indicators.push({
        title: lang === 'pt' ? 'Processo Comercial' : 'Sales Process',
        label: answers[4] >= 3 ? (lang === 'pt' ? 'Crítico' : 'Critical') : answers[4] >= 2 ? (lang === 'pt' ? 'Atenção' : 'Warning') : (lang === 'pt' ? 'Saudável' : 'Healthy'),
        value: processLabels[lang][answers[4] - 1],
        status: answers[4] >= 3 ? 'critical' : answers[4] >= 2 ? 'warning' : 'ok'
    });
    
    // Q5: Estágio de receita (não é problema, só contexto)
    const stageLabels = {
        pt: ['Estágio inicial (até R$5M)', 'Em crescimento (R$5M-20M)', 'Escalando (acima de R$20M)'],
        en: ['Early stage (up to $1M)', 'Growing ($1M-5M)', 'Scaling (above $5M)']
    };
    indicators.push({
        title: lang === 'pt' ? 'Estágio de Receita' : 'Revenue Stage',
        label: lang === 'pt' ? 'Contexto' : 'Context',
        value: stageLabels[lang][answers[5] - 1],
        status: 'ok'
    });
    
    // Ordenar: críticos primeiro, depois warning, depois ok
    const order = { critical: 0, warning: 1, ok: 2 };
    return indicators.sort((a, b) => order[a.status] - order[b.status]);
}

async function submitAndDownload() {
    const t = T[lang];
    const email = document.getElementById('assessmentEmail').value;
    const profile = document.getElementById('assessmentProfile').value;
    
    if (!email || !email.includes('@')) {
        alert(lang === 'pt' ? 'Por favor, insira um email válido.' : 'Please enter a valid email.');
        return;
    }
    if (!profile) {
        alert(lang === 'pt' ? 'Por favor, selecione seu perfil.' : 'Please select your profile.');
        return;
    }
    
    userEmail = email;
    const score = Object.values(ans).reduce((a, b) => a + b, 0);
    const level = score >= 13 ? 'high' : score >= 8 ? 'medium' : 'low';
    
    const btn = document.getElementById('formBtn');
    btn.disabled = true;
    btn.querySelector('span').textContent = '...';
    
    // Gerar indicadores para enviar
    const indicators = getIndicators(ans, lang);
    
    // ═══════════════════════════════════════════════════════════════════════
    // FIX: Enviar como URLSearchParams para Google Apps Script
    // - URLSearchParams = application/x-www-form-urlencoded (simple request)
    // - Sem preflight CORS, funciona cross-origin com Apps Script
    // - Apps Script lê via e.parameter corretamente
    // - Dados complexos (indicators) vão como campo 'json_payload' único
    // ═══════════════════════════════════════════════════════════════════════
    const payload = {
        source: 'assessment',
        email: email,
        profile: profile,
        score: score,
        fit_level: level,
        answers: JSON.stringify(ans),
        answer_labels: JSON.stringify(answerLabels),
        indicators: JSON.stringify(indicators),
        timestamp: new Date().toISOString()
    };
    
    // Enviar todo o payload como um único campo JSON para evitar truncamento
    const params = new URLSearchParams();
    params.append('json_payload', JSON.stringify(payload));
    
    fetch('https://script.google.com/macros/s/AKfycbzy9gfeEUrwYd0KNiPm4XcpDjiBs80tASd5yw56Itn_7RuSXYhtPKf2Cxny0Jfgxf0LhQ/exec', {
        method: 'POST',
        body: params
    }).then(function(response) {
        return response.text();
    }).then(function(text) {
        console.log('Dados enviados com sucesso:', text);
    }).catch(function(err) {
        console.log('Erro no envio:', err);
    });
    
    // Mostrar sucesso
    setTimeout(function() {
        document.getElementById('formInput').style.display = 'none';
        document.getElementById('formSuccess').classList.add('show');
        
        if (typeof gtag === 'function') {
            gtag('event', 'assessment_email_captured', { event_category: 'lead_generation', event_label: level, profile: profile });
        }
    }, 1000);
}

// Initialize
updateUI();
</script>

</body>
</html>
